<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/docs/ORDER_SUMMARY_COMPONENT.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/docs/ORDER_SUMMARY_COMPONENT.md" />
              <option name="updatedContent" value="# Komponen Ringkasan Pesanan (Order Summary Component)&#10;&#10;## Ringkasan&#10;Komponen ringkasan pesanan yang reusable dan konsisten digunakan di semua screen POS (Kasir, Keranjang, dan Pembayaran).&#10;&#10;## File yang Dibuat&#10;&#10;### OrderSummaryCard.kt&#10;**Lokasi**: `app/src/main/java/id/stargan/intikasir/feature/pos/ui/components/OrderSummaryCard.kt`&#10;&#10;Komponen card yang menampilkan breakdown lengkap pesanan:&#10;- **Subtotal (bruto)**: Total harga sebelum diskon item&#10;- **Diskon item**: Total diskon per-item (jika ada)&#10;- **Subtotal**: Total setelah diskon item&#10;- **PPN**: Pajak (jika diaktifkan)&#10;- **Diskon global**: Diskon transaksi (jika ada)&#10;- **Total**: Total akhir yang harus dibayar&#10;&#10;## File yang Diupdate&#10;&#10;### 1. PaymentScreenReactive.kt&#10;**Perubahan**:&#10;- Import `OrderSummaryCard` component&#10;- Menghitung `itemDiscountTotal` dan `grossSubtotal` dari `transactionItems`&#10;- Replace Card ringkasan dengan `OrderSummaryCard` component&#10;- Komponen tetap compact dan user-friendly&#10;&#10;**Komponen yang digunakan**:&#10;```kotlin&#10;OrderSummaryCard(&#10;    grossSubtotal = grossSubtotal,&#10;    itemDiscount = itemDiscountTotal,&#10;    netSubtotal = state.subtotal,&#10;    taxRate = state.taxRate,&#10;    taxAmount = state.tax,&#10;    globalDiscount = state.globalDiscount,&#10;    total = state.total&#10;)&#10;```&#10;&#10;### 2. CartSummaryReactive.kt&#10;**Perubahan**:&#10;- Sekarang menggunakan `OrderSummaryCard` untuk konsistensi&#10;- Menghitung `itemDiscountTotal` dan `grossSubtotal`&#10;- Wrapped dalam Surface dengan shadow elevation untuk visual consistency&#10;&#10;**Fungsi**:&#10;- Menampilkan ringkasan yang sama persis dengan screen lainnya&#10;- Digunakan di POS screen (top section)&#10;&#10;### 3. CartScreenReactive.kt&#10;**Perubahan**:&#10;- Import `OrderSummaryCard` dan `androidx.hilt.lifecycle.viewmodel.compose.hiltViewModel`&#10;- Menghitung `itemDiscountTotal` dan `grossSubtotal`&#10;- Replace Card ringkasan di bottomBar dengan `OrderSummaryCard`&#10;- Hapus import dan variabel yang tidak digunakan&#10;&#10;**Fungsi**:&#10;- Menampilkan ringkasan lengkap sebelum lanjut ke pembayaran&#10;&#10;## Keuntungan Implementasi&#10;&#10;### 1. **Konsistensi UI/UX**&#10;- Semua screen (POS, Cart, Payment) menampilkan ringkasan yang identik&#10;- User experience lebih baik karena tidak bingung dengan format berbeda&#10;&#10;### 2. **Maintainability**&#10;- Single source of truth untuk layout ringkasan&#10;- Perubahan format cukup dilakukan di satu tempat (`OrderSummaryCard.kt`)&#10;- Mengurangi code duplication&#10;&#10;### 3. **Transparency**&#10;- User dapat melihat breakdown lengkap:&#10;  - Harga asli (bruto)&#10;  - Diskon per-item&#10;  - Subtotal bersih&#10;  - Pajak&#10;  - Diskon global&#10;  - Total akhir&#10;&#10;### 4. **Data Integrity**&#10;- Semua perhitungan menggunakan data dari database (reactive)&#10;- Item discount disimpan dan dipertahankan saat quantity berubah&#10;- ViewModel memastikan discount tidak melebihi harga * quantity&#10;&#10;## Perhitungan yang Dilakukan&#10;&#10;```kotlin&#10;// Di setiap screen yang menggunakan OrderSummaryCard:&#10;&#10;// 1. Gross Subtotal (harga asli sebelum diskon item)&#10;val grossSubtotal = transactionItems.sumOf { it.unitPrice * it.quantity }&#10;&#10;// 2. Item Discount Total&#10;val itemDiscountTotal = transactionItems.sumOf { it.discount }&#10;&#10;// 3. Net Subtotal (dari state, sudah dihitung di ViewModel)&#10;val netSubtotal = state.subtotal // = grossSubtotal - itemDiscountTotal&#10;&#10;// 4. Tax (dari state, sudah dihitung di ViewModel)&#10;val taxAmount = state.tax // = netSubtotal * taxRate&#10;&#10;// 5. Global Discount (dari transaction entity)&#10;val globalDiscount = state.globalDiscount&#10;&#10;// 6. Total (dari state)&#10;val total = state.total // = netSubtotal + taxAmount - globalDiscount&#10;```&#10;&#10;## Testing Checklist&#10;&#10;- [x] Build berhasil tanpa error&#10;- [ ] POS Screen menampilkan ringkasan dengan benar&#10;- [ ] Cart Screen menampilkan ringkasan dengan benar&#10;- [ ] Payment Screen menampilkan ringkasan dengan benar&#10;- [ ] Diskon item terlihat di semua screen&#10;- [ ] Format mata uang konsisten (Rp dengan spasi)&#10;- [ ] Perhitungan matematis akurat&#10;- [ ] UI responsive dan tidak overlap&#10;&#10;## Screenshot Locations&#10;&#10;Untuk dokumentasi lebih lanjut, tambahkan screenshot dari:&#10;1. POS Screen - bagian top summary&#10;2. Cart Screen - bagian bottom summary&#10;3. Payment Screen - bagian top summary&#10;&#10;## Next Steps (Optional)&#10;&#10;1. Tambahkan animasi saat nilai berubah&#10;2. Tambahkan tooltip untuk menjelaskan setiap baris&#10;3. Export/Print invoice dengan format yang sama&#10;4. Tambahkan unit test untuk perhitungan&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>